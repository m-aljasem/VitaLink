<ion-content [fullscreen]="true" class="mode-switch-content">
  <div class="mode-switch-container">
    <div class="back-button-wrapper">
      <ion-button fill="clear" (click)="goBack()" class="back-button">
        <ion-icon name="arrow-back" slot="start"></ion-icon>
        {{ 'COMMON.BACK' | translate }}
      </ion-button>
    </div>
    <div class="mode-switch-header">
      <div class="header-icon">
        <ion-icon name="swap-horizontal"></ion-icon>
      </div>
      <h1>{{ 'SETTINGS.SWITCH_MODE' | translate }}</h1>
      <p class="subtitle">{{ 'SETTINGS.SWITCH_MODE_DESC' | translate }}</p>
    </div>

    <ion-card class="mode-card">
      <ion-card-content>
        <div class="mode-selection">
          <div 
            class="mode-option" 
            [class.selected]="currentRole === 'patient'"
            (click)="currentRole = 'patient'">
            <div class="mode-icon-wrapper">
              <ion-icon name="person"></ion-icon>
            </div>
            <h3>{{ 'ONBOARDING.PATIENT' | translate }}</h3>
            <p>{{ 'SETTINGS.PATIENT_DESC' | translate }}</p>
          </div>

          <div 
            class="mode-option" 
            [class.selected]="currentRole === 'provider'"
            (click)="currentRole = 'provider'">
            <div class="mode-icon-wrapper">
              <ion-icon name="people"></ion-icon>
            </div>
            <h3>{{ 'ONBOARDING.PROVIDER' | translate }}</h3>
            <p>{{ 'SETTINGS.PROVIDER_DESC' | translate }}</p>
          </div>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-button expand="block" (click)="switchRole()" class="save-button" [disabled]="loading">
      <ion-spinner *ngIf="loading" name="crescent" slot="start"></ion-spinner>
      <ion-icon *ngIf="!loading" name="checkmark-circle" slot="start"></ion-icon>
      {{ 'COMMON.SAVE' | translate }}
    </ion-button>
  </div>
</ion-content>

