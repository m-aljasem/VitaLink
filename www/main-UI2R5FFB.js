import{a as Z}from"./chunk-B3MTCGZB.js";import"./chunk-7VI3B7OV.js";import{e as Q,h as X,r as Y}from"./chunk-ZJ66G7QH.js";import{b as h}from"./chunk-FEUMV7UB.js";import{A as b,Da as W,F as P,G as I,Ia as q,Ma as J,Na as K,O as T,P as k,Pa as g,Q as S,R as w,S as j,T as F,V as D,W as E,X as L,Y as N,Z as H,ca as B,d as _,da as V,e as x,ga as z,h as u,ha as G,i as R,j as A,ja as $,ka as U,l as f,n as l,o as d,p as v,r as C,s as a,t as c,u as m,y as M,z as O}from"./chunk-IPUYINSA.js";import"./chunk-QFN5WVFN.js";import"./chunk-7KGURMOZ.js";import"./chunk-C6GHFGSM.js";import"./chunk-4BHFLD23.js";import"./chunk-MFJQPCIH.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as s}from"./chunk-2R6CW7ES.js";var i=(e,n)=>s(null,null,function*(){let r=u(h),t=u(E);return(yield r.isAuthenticated())?!0:(t.navigate(["/auth"]),!1)});var ee=[{path:"auth",loadComponent:()=>import("./chunk-J4HCZYDW.js").then(e=>e.AuthPage)},{path:"auth/verify",loadComponent:()=>import("./chunk-NEONLGHN.js").then(e=>e.VerifyPage)},{path:"onboarding",loadComponent:()=>import("./chunk-UZKNBEW6.js").then(e=>e.OnboardingPage),canActivate:[i]},{path:"tour",loadComponent:()=>import("./chunk-U6AG7X3O.js").then(e=>e.TourPage),canActivate:[i]},{path:"tabs",loadComponent:()=>import("./chunk-VYMPURZE.js").then(e=>e.TabsPage),canActivate:[i],children:[{path:"home",loadComponent:()=>import("./chunk-G7NSWLRX.js").then(e=>e.PatientHomePage)},{path:"provider-home",loadComponent:()=>import("./chunk-GFRWGFVW.js").then(e=>e.ProviderHomePage)},{path:"connect",loadComponent:()=>import("./chunk-AZQOCIJ4.js").then(e=>e.PatientConnectPage)},{path:"provider-connect",loadComponent:()=>import("./chunk-LCWVAKS4.js").then(e=>e.ProviderConnectPage)},{path:"settings",loadComponent:()=>import("./chunk-ULUT3MEH.js").then(e=>e.SettingsPage)},{path:"",redirectTo:"home",pathMatch:"full"}]},{path:"provider/patient/:id",loadComponent:()=>import("./chunk-DAMEQAIW.js").then(e=>e.ProviderPatientDetailPage),canActivate:[i]},{path:"tabs/settings/profile",loadComponent:()=>import("./chunk-ZRMOYMTY.js").then(e=>e.ProfilePage),canActivate:[i]},{path:"tabs/settings/reminders",loadComponent:()=>import("./chunk-QOT7DH23.js").then(e=>e.RemindersPage),canActivate:[i]},{path:"tabs/settings/about",loadComponent:()=>import("./chunk-JVIHGEW6.js").then(e=>e.AboutPage),canActivate:[i]},{path:"tabs/settings/mode-switch",loadComponent:()=>import("./chunk-7PMX7B2E.js").then(e=>e.ModeSwitchPage),canActivate:[i]},{path:"metric/:type",loadComponent:()=>import("./chunk-GZKVJ2AA.js").then(e=>e.MetricDetailPage),canActivate:[i]},{path:"",redirectTo:"auth",pathMatch:"full"}];function re(e,n){if(e&1){let r=M();a(0,"ion-card",3)(1,"ion-card-content")(2,"div",4),m(3,"ion-icon",5),a(4,"div",6)(5,"strong"),P(6),c(),a(7,"p"),P(8,"Time to log your health data"),c()(),a(9,"ion-button",7),O("click",function(){let o=R(r).$implicit,p=b(2);return A(p.dismissReminder(o))}),m(10,"ion-icon",8),c()()()()}if(e&2){let r=n.$implicit;f(6),I(r.title)}}function ie(e,n){if(e&1&&(a(0,"div",1),v(1,re,11,1,"ion-card",2),c()),e&2){let r=b();f(),C("ngForOf",r.activeReminders)}}var te=(()=>{let n=class n{constructor(t,o){this.reminderService=t,this.authService=o,this.activeReminders=[],Y({close:Q,notifications:X})}ngOnInit(){return s(this,null,function*(){yield this.checkReminders(),this.checkInterval=setInterval(()=>{this.checkReminders()},6e4)})}ngOnDestroy(){this.checkInterval&&clearInterval(this.checkInterval)}checkReminders(){return s(this,null,function*(){let t=this.authService.getCurrentUser();if(!t)return;let o=yield this.reminderService.checkWebReminders(t.id);this.activeReminders=o})}dismissReminder(t){let o=this.activeReminders.indexOf(t);o>-1&&this.activeReminders.splice(o,1)}};n.\u0275fac=function(o){return new(o||n)(l(Z),l(h))},n.\u0275cmp=d({type:n,selectors:[["app-reminder-banner"]],decls:1,vars:1,consts:[["class","reminder-banners",4,"ngIf"],[1,"reminder-banners"],["class","reminder-banner",4,"ngFor","ngForOf"],[1,"reminder-banner"],[1,"banner-content"],["name","notifications","color","primary"],[1,"banner-text"],["fill","clear","size","small",3,"click"],["name","close"]],template:function(o,p){o&1&&v(0,ie,2,1,"div",0),o&2&&C("ngIf",p.activeReminders.length>0)},dependencies:[S,T,k,$,U,G,q,g],styles:[".reminder-banners[_ngcontent-%COMP%]{position:fixed;top:60px;left:0;right:0;z-index:1000;padding:0 1rem;pointer-events:none}.reminder-banners[_ngcontent-%COMP%]   .reminder-banner[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:12px;box-shadow:0 4px 6px #0000001a;pointer-events:all;background:#fff3cd;border:1px solid #ffc107}.reminder-banners[_ngcontent-%COMP%]   .reminder-banner[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:.75rem}.banner-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.banner-content[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{flex:1}.banner-content[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.25rem}.banner-content[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;opacity:.7}"]});let e=n;return e})();var ne=(()=>{let n=class n{constructor(t){this.translate=t}ngOnInit(){return s(this,null,function*(){this.translate.setDefaultLang("en"),console.log("TranslateService default lang:",this.translate.defaultLang),console.log("TranslateService current lang:",this.translate.currentLang),this.translate.get("APP_NAME").subscribe({next:t=>{console.log("Direct translation test - APP_NAME:",t)},error:t=>{console.error("Direct translation error:",t)}});try{let t=yield _(this.translate.use("en"));console.log("Translations loaded successfully:",Object.keys(t).length,"keys"),console.log("Translation keys:",Object.keys(t)),console.log("Full translations object:",t);let o=this.translate.instant("APP_NAME");console.log("Instant translation APP_NAME:",o)}catch(t){console.error("Failed to load translations:",t)}})}};n.\u0275fac=function(o){return new(o||n)(l(K))},n.\u0275cmp=d({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(o,p){o&1&&(a(0,"ion-app"),m(1,"app-reminder-banner")(2,"ion-router-outlet"),c())},dependencies:[z,V,te],encapsulation:2});let e=n;return e})();var y=class{constructor(n){this.http=n,console.log("CustomTranslateLoader constructor called")}getTranslation(n){let r=`./assets/i18n/${n}.json`;return console.log("\u{1F50D} CustomTranslateLoader.getTranslation called for lang:",n),console.log("\u{1F50D} Loading translations from URL:",r),this.http.get(r,{responseType:"json"}).pipe(x(t=>(console.log("\u2705 Raw HTTP response received:",t),console.log("\u2705 Response type:",typeof t),console.log("\u2705 Response is array?",Array.isArray(t)),console.log("\u2705 Response keys count:",Object.keys(t||{}).length),console.log("\u2705 Response keys:",Object.keys(t||{})),(!t||Object.keys(t).length===0)&&console.error("\u274C WARNING: Response is empty!"),t||{})))}};function ae(e){return new y(e)}w(ne,{providers:[{provide:D,useClass:B},W(),N(ee,H(L)),F(),g.forRoot({defaultLanguage:"en",loader:{provide:J,useFactory:ae,deps:[j]}}).providers]});export{y as CustomTranslateLoader,ae as HttpLoaderFactory};
