import{$ as M,B as l,C as g,D as m,J as w,Ja as W,K as f,L as h,Q as D,_ as S,aa as T,ba as P,i as n,j as o,l as u,m as C,o as V,s as a,t as _,y as I,z as d}from"./chunk-IPUYINSA.js";var k=["input0"],v=["input1"],Q=["input2"],b=["input3"],E=["input4"],B=["input5"],G=(()=>{let y=class y{constructor(){this.code="",this.codeChange=new C,this.codeComplete=new C,this.digits=["","","","","",""]}ngAfterViewInit(){this.code&&(this.digits=this.code.split(""),this.updateCode())}onInput(s,p){let i=p.target.value;i.length>1?this.digits[s]=i[i.length-1]:this.digits[s]=i,this.updateCode(),i&&s<5&&this.focusNext(s),this.isComplete()&&this.codeComplete.emit(this.code)}onKeyDown(s,p){p.key==="Backspace"&&!this.digits[s]&&s>0&&this.focusPrevious(s)}onPaste(s){s.preventDefault();let i=(s.clipboardData?.getData("text")||"").replace(/\D/g,"").slice(0,6).split("");for(let t=0;t<6;t++)this.digits[t]=i[t]||"";this.updateCode(),this.isComplete()?this.codeComplete.emit(this.code):this.focusNext(Math.min(i.length-1,5))}focusNext(s){let p=[this.input0,this.input1,this.input2,this.input3,this.input4,this.input5];p[s+1]&&setTimeout(()=>p[s+1].nativeElement.setFocus(),10)}focusPrevious(s){let p=[this.input0,this.input1,this.input2,this.input3,this.input4,this.input5];p[s-1]&&setTimeout(()=>p[s-1].nativeElement.setFocus(),10)}updateCode(){this.code=this.digits.join(""),this.codeChange.emit(this.code)}isComplete(){return this.digits.every(s=>s!=="")}};y.\u0275fac=function(p){return new(p||y)},y.\u0275cmp=V({type:y,selectors:[["app-six-digit-input"]],viewQuery:function(p,i){if(p&1&&(l(k,5),l(v,5),l(Q,5),l(b,5),l(E,5),l(B,5)),p&2){let t;g(t=m())&&(i.input0=t.first),g(t=m())&&(i.input1=t.first),g(t=m())&&(i.input2=t.first),g(t=m())&&(i.input3=t.first),g(t=m())&&(i.input4=t.first),g(t=m())&&(i.input5=t.first)}},inputs:{code:"code"},outputs:{codeChange:"codeChange",codeComplete:"codeComplete"},decls:13,vars:6,consts:[["input0",""],["input1",""],["input2",""],["input3",""],["input4",""],["input5",""],[1,"six-digit-container"],["type","tel","maxlength","1",1,"digit-input",3,"ngModelChange","ionInput","keydown","paste","ngModel"]],template:function(p,i){if(p&1){let t=I();a(0,"div",6)(1,"ion-input",7,0),h("ngModelChange",function(e){return n(t),f(i.digits[0],e)||(i.digits[0]=e),o(e)}),d("ionInput",function(e){return n(t),o(i.onInput(0,e))})("keydown",function(e){return n(t),o(i.onKeyDown(0,e))})("paste",function(e){return n(t),o(i.onPaste(e))}),_(),a(3,"ion-input",7,1),h("ngModelChange",function(e){return n(t),f(i.digits[1],e)||(i.digits[1]=e),o(e)}),d("ionInput",function(e){return n(t),o(i.onInput(1,e))})("keydown",function(e){return n(t),o(i.onKeyDown(1,e))})("paste",function(e){return n(t),o(i.onPaste(e))}),_(),a(5,"ion-input",7,2),h("ngModelChange",function(e){return n(t),f(i.digits[2],e)||(i.digits[2]=e),o(e)}),d("ionInput",function(e){return n(t),o(i.onInput(2,e))})("keydown",function(e){return n(t),o(i.onKeyDown(2,e))})("paste",function(e){return n(t),o(i.onPaste(e))}),_(),a(7,"ion-input",7,3),h("ngModelChange",function(e){return n(t),f(i.digits[3],e)||(i.digits[3]=e),o(e)}),d("ionInput",function(e){return n(t),o(i.onInput(3,e))})("keydown",function(e){return n(t),o(i.onKeyDown(3,e))})("paste",function(e){return n(t),o(i.onPaste(e))}),_(),a(9,"ion-input",7,4),h("ngModelChange",function(e){return n(t),f(i.digits[4],e)||(i.digits[4]=e),o(e)}),d("ionInput",function(e){return n(t),o(i.onInput(4,e))})("keydown",function(e){return n(t),o(i.onKeyDown(4,e))})("paste",function(e){return n(t),o(i.onPaste(e))}),_(),a(11,"ion-input",7,5),h("ngModelChange",function(e){return n(t),f(i.digits[5],e)||(i.digits[5]=e),o(e)}),d("ionInput",function(e){return n(t),o(i.onInput(5,e))})("keydown",function(e){return n(t),o(i.onKeyDown(5,e))})("paste",function(e){return n(t),o(i.onPaste(e))}),_()()}p&2&&(u(),w("ngModel",i.digits[0]),u(2),w("ngModel",i.digits[1]),u(2),w("ngModel",i.digits[2]),u(2),w("ngModel",i.digits[3]),u(2),w("ngModel",i.digits[4]),u(2),w("ngModel",i.digits[5]))},dependencies:[D,P,S,T,M,W],styles:[".six-digit-container[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:center;margin:2rem 0}.six-digit-container[_ngcontent-%COMP%]   .digit-input[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;text-align:center;font-size:1.5rem;font-weight:600;--border-radius: 12px;--background: #f9fafb;--border-color: #e5e7eb;--border-width: 2px;--border-style: solid}.six-digit-container[_ngcontent-%COMP%]   .digit-input[_ngcontent-%COMP%]:focus-within{--border-color: var(--ion-color-primary);--background: #ffffff}"]});let c=y;return c})();export{G as a};
