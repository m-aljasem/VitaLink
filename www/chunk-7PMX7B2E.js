import{a as F}from"./chunk-ZL5SRYO7.js";import{b as H}from"./chunk-FEUMV7UB.js";import{$ as R,Aa as b,Ba as W,F as n,Fa as A,G as c,H as g,J as w,K as C,Ka as G,L as M,M as r,N as a,Oa as j,Pa as k,Q as T,W as E,_,ba as x,ha as y,l as e,n as d,o as S,oa as O,pa as N,qa as P,r as I,ra as B,s as i,t as o,va as D,z as v}from"./chunk-IPUYINSA.js";import"./chunk-QFN5WVFN.js";import"./chunk-7KGURMOZ.js";import"./chunk-C6GHFGSM.js";import"./chunk-4BHFLD23.js";import"./chunk-MFJQPCIH.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as f}from"./chunk-2R6CW7ES.js";var $=(()=>{let l=class l{constructor(p,t,s,u){this.authService=p,this.profileService=t,this.router=s,this.toastController=u,this.profile=null,this.currentRole="patient"}ngOnInit(){return f(this,null,function*(){this.profile=yield this.authService.getCurrentProfile(),this.profile&&(this.currentRole=this.profile.role)})}switchRole(){return f(this,null,function*(){if(!this.profile)return;let{error:p}=yield this.profileService.updateProfile(this.profile.id,{role:this.currentRole});p?yield(yield this.toastController.create({message:"Failed to switch role",duration:2e3,color:"danger"})).present():(yield this.authService.loadProfile(this.profile.id),yield(yield this.toastController.create({message:"Role switched successfully",duration:2e3,color:"success"})).present(),this.router.navigate(["/tabs/home"]))})}};l.\u0275fac=function(t){return new(t||l)(d(H),d(F),d(E),d(A))},l.\u0275cmp=S({type:l,selectors:[["app-mode-switch"]],decls:24,vars:21,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],[1,"mode-switch-container"],[3,"ngModelChange","ngModel"],["value","patient"],["value","provider"],["expand","block",1,"ion-margin-top",3,"click"]],template:function(t,s){t&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n(3),r(4,"translate"),o()()(),i(5,"ion-content",1)(6,"div",2)(7,"p"),n(8),r(9,"translate"),o(),i(10,"ion-item")(11,"ion-label"),n(12),r(13,"translate"),o(),i(14,"ion-select",3),M("ngModelChange",function(h){return C(s.currentRole,h)||(s.currentRole=h),h}),i(15,"ion-select-option",4),n(16),r(17,"translate"),o(),i(18,"ion-select-option",5),n(19),r(20,"translate"),o()()(),i(21,"ion-button",6),v("click",function(){return s.switchRole()}),n(22),r(23,"translate"),o()()()),t&2&&(I("translucent",!0),e(3),c(a(4,9,"SETTINGS.SWITCH_MODE")),e(2),I("fullscreen",!0),e(3),c(a(9,11,"SETTINGS.SWITCH_MODE_DESC")),e(4),c(a(13,13,"SETTINGS.SWITCH_MODE")),e(2),w("ngModel",s.currentRole),e(2),c(a(17,15,"ONBOARDING.PATIENT")),e(3),c(a(20,17,"ONBOARDING.PROVIDER")),e(3),g(" ",a(23,19,"COMMON.SAVE")," "))},dependencies:[T,x,_,R,O,N,b,W,y,P,B,G,D,k,j],styles:[".mode-switch-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}"]});let m=l;return m})();export{$ as ModeSwitchPage};
